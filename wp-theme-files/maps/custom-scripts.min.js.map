{"version":3,"sources":["9_custom-scripts.js","loadmore.js"],"names":["jQuery","document","ready","$","ajaxurl","wp_params","click","e","preventDefault","trigger","target","container","closest","offset","find","length","text","post_type","data","console","log","concat","ajax","url","type","action","order","count","success","last","after","setTimeout","addClass","error"],"mappings":";;;EAIAA,OAAOC,UAAUC,MAAM,SAASC,MCJhC,WAAa,IACJC,EAAWC,UAAXD,QAEPJ,OAAOC,UAAUC,MAAM,SAAUC,GAC/BA,EAAE,oBAAoBG,MAAM,SAAUC,GACpCA,EAAEC,iBACF,IAAMC,EAAUN,EAAEI,EAAEG,QACdC,EAAYF,EAAQG,QAAQ,uBAC5BC,EAASF,EAAUG,KAAK,kBAAkBC,OAChDN,EAAQO,KAAK,WAEb,IAAIC,EAAYN,EAAUO,KAAK,aAAe,OAE9CC,QAAQC,IAAR,WAAAC,OAAuBJ,EAAvB,MAEAd,EAAEmB,KAAK,CACLC,IAAKnB,EACLoB,KAAM,OACNN,KAAM,CACJO,OAAQ,YACRR,UAAAA,EACAJ,OAAAA,EACAa,MAAO,OACPC,MAAO,GAETC,QAAS,SAAAV,GACPT,EAAQO,KAAK,aACRE,GAASA,EAAKH,SACnBJ,EAAUG,KAAK,kBAAkBe,OAAOC,MAAMZ,GAC9Ca,WAAW,WAAA,OAAMpB,EAAUG,KAAK,kBAAkBkB,SAAS,SAAS,OAEtEC,MAAO,WACLxB,EAAQO,KAAK,oBAhCvB","file":"../js/custom-scripts.min.js","sourcesContent":["/*!\n * theme custom scripts\n*/\n\njQuery(document).ready(function($){\n\n});","(function () {\n  const {ajaxurl} = wp_params; // global object from server side\n\n  jQuery(document).ready(function ($) {\n    $(\".loadmore-button\").click(function (e) {\n      e.preventDefault();\n      const trigger = $(e.target);\n      const container = trigger.closest(\".loadmore-container\");\n      const offset = container.find(\".loadmore-item\").length;\n      trigger.text(\"Loading\");\n\n      let post_type = container.data(\"posttype\") || \"post\";\n\n      console.log(`loading ${post_type}s`);\n\n      $.ajax({\n        url: ajaxurl,\n        type: \"post\",\n        data: {\n          action: \"get_posts\",\n          post_type,\n          offset,\n          order: \"DESC\",\n          count: 3\n        },\n        success: data => {\n          trigger.text(\"Load More\");\n          if (!data || !data.length) return;\n          container.find(\".loadmore-item\").last().after(data);\n          setTimeout(() => container.find(\".loadmore-item\").addClass(\"show\"), 100);\n        },\n        error: () => {\n          trigger.text(\"Load More\");\n        },\n      });\n    });\n  });\n\n})();"],"sourceRoot":"wp-theme-files"}